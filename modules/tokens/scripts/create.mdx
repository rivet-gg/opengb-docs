---
title: "Create Token"
description: ""
sidebarTitle: "Create Token"
---

| Source                                                                                                      | Name       | Public     |
| ----------------------------------------------------------------------------------------------------------- | ---------- | ---------- |
| [Source](https://github.com/rivet-gg/opengb-registry/tree/main/modules/tokens/scripts/create.ts) | `create` | No |

<RequestExample>

```typescript OpenGB Script
const data = await ctx.modules.tokens.create({
  // Request body
});
```

```javascript JavaScript
// IMPORTANT: Docs on using auto-generated SDK coming soon

const response = await fetch(
  "https://localhost:8080/modules/tokens/scripts/create/call",
  {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      // Request body
    }),
  }
);
if (!response.ok) throw new Error(`Error: ${response.status}`);
const data = await response.json();
```

```gdscript Godot
# IMPORTANT: Auto-generated SDK coming soon

var url = "https://localhost:8080/modules/tokens/scripts/create/call"
var headers = ["Content-Type: application/json"]
var json = JSON.stringify(data_to_send)
var request = $HTTPRequest.request(url, headers, HTTPClient.METHOD_POST, json)

var response = await http.request_completed
if response[0] != HTTPRequest.RESULT_SUCCESS:
  push_error("Error: " + str(response[0]))
  return

var json = JSON.new()
json.parse(body.get_string_from_utf8())
var data = json.get_data()

# Success
```

```csharp Unity
// IMPORTANT: Auto-generated SDK coming soon

IEnumerator PostData() {
    var json = "{\"key\":\"value\"}"; // Your JSON payload
    var www = new UnityWebRequest("https://localhost:8080/modules/tokens/scripts/create/call", "POST");
    byte[] bodyRaw = System.Text.Encoding.UTF8.GetBytes(json);
    www.uploadHandler = new UploadHandlerRaw(bodyRaw);
    www.downloadHandler = new DownloadHandlerBuffer();
    www.SetRequestHeader("Content-Type", "application/json");
    yield return www.SendWebRequest();

    if (www.result != UnityWebRequest.Result.Success) {
        Debug.Log(www.error);
        return;
    }

    var data = request.downloadHandler.text;

    // Success
}

```

```cpp Unreal Engine
// IMPORTANT: Auto-generated SDK coming soon

#include "HttpModule.h"
#include "Interfaces/IHttpRequest.h"
#include "Interfaces/IHttpResponse.h"
#include "Misc/DefaultValueHelper.h"

void UYourClassName::PostRequest()
{
    TSharedRef<IHttpRequest, ESPMode::ThreadSafe> Request = FHttpModule::Get().CreateRequest();
    Request->OnProcessRequestComplete().BindUObject(this, &UYourClassName::OnResponseReceived);
    Request->SetURL(TEXT("https://localhost:8080/modules/tokens/scripts/create/call"));
    Request->SetVerb(TEXT("POST"));
    Request->SetHeader(TEXT("Content-Type"), TEXT("application/json"));
    FString Payload = TEXT("{\"key\":\"value\"}");
    Request->SetContentAsString(Payload);
    Request->ProcessRequest();
}

void UYourClassName::OnResponseReceived(FHttpRequestPtr Request, FHttpResponsePtr Response, bool bWasSuccessful)
{
    if(!bWasSuccessful || !Response.IsValid())
    {
        UE_LOG(LogTemp, Error, TEXT("Request Failed"));
        return
    }

    FString data = Response->GetContentAsString();

    // Success
}
```

```rust Rust
// IMPORTANT: Auto-generated SDK coming soon

let data = reqwest::Client::new()
    .post("https://localhost:8080/modules/tokens/scripts/create/call")
    .json(&body) // Make sure `body` is defined
    .send()
    .await?
    .error_for_status()?
    .json::<serde_json::Value>()
    .await?;
```

```bash curl
curl -X POST "https://localhost:8080/modules/tokens/scripts/create/call" \
  -H "Content-Type: application/json" \
  -d '{
    "key": "value" // Your JSON payload here
  }'
```

</RequestExample>

## Request

```typescript
export interface Request {
  type: string;
  meta: {
    [k: string]: any;
  };
  expireAt?: string;
}
```

## Response

```typescript
export interface Response {
  token: TokenWithSecret;
}
export interface TokenWithSecret {
  token: string;
  id: string;
  type: string;
  meta: any;
  createdAt: string;
  expireAt: null | string;
  revokedAt: null | string;
}
```
